define("local_dttutor/error_modal",["exports","core/modal","core/str","core/templates"],(function(_exports,_modal,Str,Templates){var obj;
/**
   * Error modal for Tutor-IA
   *
   * @module     local_dttutor/error_modal
   * @copyright  2025 Datacurso
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.showGeneralError=_exports.showConfigError=_exports.default=void 0,_modal=(obj=_modal)&&obj.__esModule?obj:{default:obj},Str=_interopRequireWildcard(Str),Templates=_interopRequireWildcard(Templates);const showError=async(message,isConfigError,configUrl)=>{try{const strings=await Str.get_strings([{key:"error_webservice_not_configured_short",component:"local_dttutor"},{key:"pluginname",component:"local_dttutor"},{key:"configure_now",component:"local_dttutor"}]),modalTitle=isConfigError?strings[0]:strings[1],context={message:message,has_config_url:!!configUrl,config_url:configUrl||"",str_configure_now:strings[2]},html=await Templates.render("local_dttutor/error_modal_body",context),modal=await _modal.default.create({title:modalTitle,body:html,show:!0,removeOnClose:!0});return isConfigError||setTimeout((()=>{modal.hide()}),1e4),modal}catch(error){throw window.alert(message),error}},showConfigError=(message,configUrl)=>showError(message,!0,configUrl);_exports.showConfigError=showConfigError;const showGeneralError=message=>showError(message,!1,null);_exports.showGeneralError=showGeneralError;var _default={showError:showError,showConfigError:showConfigError,showGeneralError:showGeneralError};return _exports.default=_default,_exports.default}));

//# sourceMappingURL=error_modal.min.js.map